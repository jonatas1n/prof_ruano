{% extends "base.html" %}
{% load static i18n wagtailcore_tags wagtailimages_tags wagtailmetadata_tags %}

{% block meta_tag %}
    {% meta_tags %}
{% endblock %}

{% block content %}

<link rel="stylesheet" type="text/css" href="{% static 'css/templates/home/home.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/templates/home/chart.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/components/modal.css' %}">

<main class="container">
    {% if active_list %}
        <h3>Você está realizando a lista <a href="/questions/{{active_list.id}}">{{ active_list.title }}</a></h3>
    {% endif %}
    {% if hints or lists %}
        <div class="menu-top">
            {% if lists %}
                <a class="menu-top__item" href="{{lists_slug}}">
                    <button>
                        Praticar as Listas
                    </button>
                </a>
            {% endif %}
            {% if hints %}
                <a class="menu-top__item" href="javascript:openModal('#hint__modal')">
                    <button>
                        Bizus para prova
                    </button>
                </a>
            {% endif %}
        </div>
    {% endif %}

    <div class="chart fade-up">
        <div class="chart__title fade-left">
            Estatísticas
        </div>
        <div class="chart__board">
            <div class="chart__item lists">
                <div class="chart__item__title">Suas últimas listas</div>
                <ul class="lists__content">
                    {% for list in stats.last_submissions %}
                        <li class="list" id="list-item-{{ list.id }}" data-list-id="{{ list.id }}">
                            <button>
                                <div class="list__date">{{list.name}} {{ list.created_at|date:"d/m/y" }} {{ list.created_at|time:"H:mm:ss" }} </div>
                                <div class="list__grade">28/30</div>
                            </button>
                        </li>
                    {% endfor %}
                </ul>
            </div>
            <div class="chart__item time">
                <div class="chart__item__title">Tempo médio por lista</div>
                <div class="time__content">1:35:22s</div>
            </div>
            <div class="chart__item grade">
                <div class="chart__item__title">% de acertos</div>
                <div class="grade__content">
                    <div class="grade__value">85%</div>
                    <div class="grade__rate">90/120</div>
                </div>
            </div>
            <div class="chart__item subjects">
                <div class="chart__item__title">Assuntos mais errados</div>
                <ol class="subjects__content">
                    <li class="subject">Funções</li>
                    <li class="subject">Geometria</li>
                    <li class="subject">Probabilidade</li>
                    <li class="subject">Funções</li>
                    <li class="subject">Geometria</li>
                    <li class="subject">Probabilidade</li>
                    <li class="subject">Funções</li>
                    <li class="subject">Geometria</li>
                    <li class="subject">Probabilidade</li>
                </ol>
            </div>
        </div>
    </div>
</main>

<div class="modal" id="hint__modal">
    <div class="modal__backdrop"></div>
    <div class="modal__container">
        <div class="modal__content">
            <div class="modal__header">
                <h3 class="modal__title">Bizus para prova</h3>
                <button class="modal__close" onclick="closeModal('#hint__modal')">
                    <i class="fas fa-times fa-xl"></i>
                </button>
            </div>
            <div class="modal__list">
                {% for hint in hints %}
                    <a href="{{ hint.slug }}" class="modal__item">
                        {{ hint.title }}
                    </a>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<script type="text/javascript" src="{% static 'js/components/modal.js'%}"></script>

{% endblock %}

